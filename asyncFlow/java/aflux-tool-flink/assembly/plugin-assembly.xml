<assembly xmlns="http://maven.apache.org/ASSEMBLY/2.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd">

  <id>plugin-jar-with-dependencies</id>
  <formats>
    <format>jar</format>
  </formats>
  <includeBaseDirectory>false</includeBaseDirectory>

  <dependencySets>
    <dependencySet>
      <outputDirectory>/</outputDirectory>
      <useProjectArtifact>true</useProjectArtifact>
      <unpack>true</unpack>
      <scope>runtime</scope>
      <excludes>
        <exclude>junit:junit</exclude>
        <exclude>de.tum.in.aflux:aflux-tool-base</exclude>
        <exclude>com.typesafe.akka:akka-stream_2.11</exclude>
        <exclude>org.scala-lang:scala-library</exclude>
        <exclude>com.typesafe.akka:akka-actor_2.11</exclude>
        <exclude>com.typesafe:config</exclude>
        <exclude>org.scala-lang.modules:scala-java8-compat_2.11</exclude>
        <exclude>org.reactivestreams:reactive-streams</exclude>
        <exclude>com.typesafe:ssl-config-core_2.11</exclude>
        <exclude>org.scala-lang.modules:scala-parser-combinators_2.11</exclude>
        <exclude>org.springframework:spring-context</exclude>
        <exclude>org.springframework:spring-aop</exclude>
        <exclude>org.springframework:spring-beans</exclude>
        <exclude>org.springframework:spring-core</exclude>
        <exclude>commons-logging:commons-logging</exclude>
        <exclude>org.springframework:spring-expression</exclude>
        <exclude>org.slf4j:slf4j-api</exclude>
        <exclude>com.fasterxml.jackson.core:jackson-annotations:2.8.0</exclude>
        <exclude>org.springframework.data:spring-data-hadoop-store</exclude>
        <exclude>org.springframework:spring-messaging</exclude>
        <exclude>org.apache.hadoop:hadoop-yarn-common</exclude>
        <exclude>org.apache.hadoop:hadoop-yarn-api</exclude>
        <exclude>javax.xml.bind:jaxb-api</exclude>
        <exclude>javax.xml.stream:stax-api</exclude>
        <exclude>javax.activation:activation</exclude>
        <exclude>org.apache.commons:commons-compress</exclude>
        <exclude>org.tukaani:xz</exclude>
        <exclude>commons-lang:commons-lang</exclude>
        <exclude>commons-codec:commons-codec</exclude>
        <exclude>org.mortbay.jetty:jetty-util</exclude>
        <exclude>com.sun.jersey:jersey-core</exclude>
        <exclude>com.sun.jersey:jersey-client</exclude>
        <exclude>org.codehaus.jackson:jackson-core-asl</exclude>
        <exclude>org.codehaus.jackson:jackson-mapper-asl</exclude>
        <exclude>org.codehaus.jackson:jackson-jaxrs</exclude>
        <exclude>org.codehaus.jackson:jackson-xc</exclude>
        <exclude>com.google.guava:guava</exclude>
        <exclude>commons-cli:commons-cli</exclude>
        <exclude>org.apache.hadoop:hadoop-annotations</exclude>
        <exclude>jdk.tools:jdk.tools</exclude>
        <exclude>com.google.inject.extensions:guice-servlet</exclude>
        <exclude>com.google.protobuf:protobuf-java</exclude>
        <exclude>commons-io:commons-io</exclude>
        <exclude>com.google.inject:guice</exclude>
        <exclude>javax.inject:javax.inject</exclude>
        <exclude>aopalliance:aopalliance</exclude>
        <exclude>com.sun.jersey:jersey-server</exclude>
        <exclude>asm:asm</exclude>
        <exclude>com.sun.jersey:jersey-json</exclude>
        <exclude>org.codehaus.jettison:jettison</exclude>
        <exclude>com.sun.xml.bind:jaxb-impl</exclude>
        <exclude>com.sun.jersey.contribs:jersey-guice</exclude>
        <exclude>org.apache.hadoop:hadoop-hdfs</exclude>
        <exclude>org.mortbay.jetty:jetty</exclude>
        <exclude>commons-daemon:commons-daemon</exclude>
        <exclude>xmlenc:xmlenc</exclude>
        <exclude>io.netty:netty-all</exclude>
        <exclude>xerces:xercesImpl</exclude>
        <exclude>org.apache.htrace:htrace-core</exclude>
        <exclude>org.fusesource.leveldbjni:leveldbjni-all</exclude>
        <exclude>org.apache.hadoop:hadoop-mapreduce-client-core</exclude>
        <exclude>org.apache.avro:avro</exclude>
        <exclude>com.thoughtworks.paranamer:paranamer</exclude>
        <exclude>org.xerial.snappy:snappy-java</exclude>
        <exclude>io.netty:netty</exclude>
        <exclude>org.apache.hadoop:hadoop-common</exclude>
        <exclude>org.apache.commons:commons-math3</exclude>
        <exclude>commons-httpclient:commons-httpclient</exclude>
        <exclude>commons-net:commons-net</exclude>
        <exclude>commons-collections:commons-collections</exclude>
        <exclude>javax.servlet.jsp:jsp-api</exclude>
        <exclude>net.java.dev.jets3t:jets3t</exclude>
        <exclude>org.apache.httpcomponents:httpclient</exclude>
        <exclude>org.apache.httpcomponents:httpcore</exclude>
        <exclude>com.jamesmurty.utils:java-xmlbuilder</exclude>
        <exclude>commons-configuration:commons-configuration</exclude>
        <exclude>commons-digester:commons-digester</exclude>
        <exclude>commons-beanutils:commons-beanutils</exclude>
        <exclude>commons-beanutils:commons-beanutils-core</exclude>
        <exclude>com.google.code.gson:gson</exclude>
        <exclude>org.apache.hadoop:hadoop-auth</exclude>
        <exclude>org.apache.directory.server:apacheds-kerberos-codec:jar</exclude>
        <exclude>org.apache.directory.server:apacheds-i18n</exclude>
        <exclude>org.apache.directory.api:api-asn1-api</exclude>
        <exclude>org.apache.directory.api:api-util</exclude>
        <exclude>org.apache.curator:curator-framework</exclude>
        <exclude>com.jcraft:jsch:jar</exclude>
        <exclude>org.apache.curator:curator-client</exclude>
        <exclude>org.apache.curator:curator-recipes</exclude>
        <exclude>com.google.code.findbugs:jsr305</exclude>
        <exclude>org.apache.zookeeper:zookeeper</exclude>
        <exclude>org.springframework.data:spring-data-hadoop-config</exclude>
        <exclude>org.springframework.data:spring-data-hadoop-core</exclude>
        <exclude>org.springframework:spring-context-support</exclude>
        <exclude>org.apache.hadoop:hadoop-streaming</exclude>
        <exclude>org.kitesdk:kite-data-core</exclude>
        <exclude>org.kitesdk:kite-hadoop-compatibility</exclude>
        <exclude>com.twitter:parquet-avro</exclude>
        <exclude>com.twitter:parquet-column</exclude>
        <exclude>com.twitter:parquet-common</exclude>
        <exclude>com.twitter:parquet-encoding</exclude>
        <exclude>com.twitter:parquet-generator</exclude>
        <exclude>com.twitter:parquet-hadoop</exclude>
        <exclude>com.twitter:parquet-jackson</exclude>
        <exclude>com.twitter:parquet-format</exclude>
        <exclude>net.sf.opencsv:opencsv</exclude>
        <exclude>org.apache.commons:commons-jexl</exclude>
        <exclude>com.fasterxml.jackson.core:jackson-databind</exclude>
        <exclude>com.fasterxml.jackson.core:jackson-core</exclude>
        <exclude>org.apache.hadoop:hadoop-distcp</exclude>
        <exclude>org.apache.hadoop:hadoop-mapreduce-client-jobclient</exclude>
        <exclude>org.apache.hadoop:hadoop-mapreduce-client-common</exclude>
        <exclude>org.apache.hadoop:hadoop-yarn-client</exclude>
        <exclude>org.apache.hadoop:hadoop-yarn-server-common</exclude>
        <exclude>org.apache.hadoop:hadoop-mapreduce-client-shuffle</exclude>
        <exclude>org.apache.hadoop:hadoop-yarn-server-nodemanager</exclude>
        <!--  added pig and hive -->
        <exclude>org.springframework.data:spring-data-hadoop-pig</exclude>
        <exclude>org.springframework.data:spring-data-hadoop-core</exclude>
        <exclude>org.springframework.batch:spring-batch-core</exclude>
        <exclude>com.ibm.jbatch:com.ibm.jbatch-tck-spi</exclude>
        <exclude>javax.batch:javax.batch-api</exclude>
        <exclude>com.thoughtworks.xstream:xstream</exclude>
        <exclude>xmlpull:xmlpull</exclude>
        <exclude>xpp3:xpp3_min</exclude>
        <exclude>org.codehaus.jettison:jettison</exclude>
        <exclude>org.springframework.batch:spring-batch-infrastructure</exclude>
        <exclude>org.springframework.retry:spring-retry</exclude>
        <exclude>org.springframework:spring-tx</exclude>
        <exclude>org.springframework.data:spring-data-hadoop-hive</exclude>
        <exclude>org.springframework.data:spring-data-hadoop-hbase</exclude>
        <exclude>org.apache.pig:pig</exclude>
        <exclude>commons-cli:commons-cli</exclude>
        <exclude>xmlenc:xmlenc</exclude>
        <exclude>commons-httpclient:commons-httpclient</exclude>
        <exclude>commons-codec:commons-codec</exclude>
        <exclude>commons-net:commons-net</exclude>
        <exclude>org.mortbay.jetty:jetty-util</exclude>
        <exclude>tomcat:jasper-runtime</exclude>
        <exclude>tomcat:jasper-compiler</exclude>
        <exclude>org.mortbay.jetty:jsp-api-2.1</exclude>
        <exclude>org.mortbay.jetty:jsp-2.1</exclude>
        <exclude>org.eclipse.jdt:core</exclude>
        <exclude>ant:ant</exclude>
        <exclude>commons-el:commons-el</exclude>
        <exclude>net.java.dev.jets3t:jets3t</exclude>
        <exclude>net.sf.kosmosfs:kfs</exclude>
        <exclude>hsqldb:hsqldb</exclude>
        <exclude>oro:oro</exclude>
        <exclude>org.antlr:ST4</exclude>
        <exclude>org.antlr:antlr-runtime</exclude>
        <exclude>org.antlr:stringtemplate</exclude>
        <exclude>antlr:antlr</exclude>
        <exclude>dk.brics.automaton:automaton</exclude>
        <exclude>com.google.guava:guava</exclude>
        <exclude>org.codehaus.jackson:jackson-mapper-asl</exclude>
        <exclude>org.codehaus.jackson:jackson-core-asl</exclude>
        <exclude>joda-time:joda-time</exclude>
        <exclude>org.apache.avro:avro</exclude>
        <exclude>com.thoughtworks.paranamer:paranamer</exclude>
        <exclude>org.xerial.snappy:snappy-java</exclude>
        <exclude>org.apache.ivy:ivy</exclude>
        <exclude>org.codehaus.groovy:groovy-all</exclude>
        <exclude>org.apache.pig:piggybank</exclude>
        <exclude>commons-lang:commons-lang</exclude>
        <exclude>log4j:log4j</exclude>
        <exclude>commons-logging:commons-logging</exclude>
        <exclude>com.googlecode.json-simple:json-simple</exclude>
        <exclude>nl.basjes.parse.httpdlog:httpdlog-pigloader</exclude>
        <exclude>nl.basjes.parse.httpdlog:httpdlog-inputformat</exclude>
        <exclude>nl.basjes.parse.httpdlog:httpdlog-parser</exclude>
        <exclude>nl.basjes.parse:parser-core</exclude>
        <exclude>org.apache.pig:pig</exclude>
        <exclude>org.mortbay.jetty:servlet-api-2.5</exclude>
        <exclude>jline:jline</exclude>
        <exclude>org.apache.hbase:hbase-client</exclude>
        <exclude>org.apache.hbase:hbase-annotations</exclude>
        <exclude>com.github.stephenc.findbugs:findbugs-annotations</exclude>
        <exclude>org.apache.hbase:hbase-common</exclude>
        <exclude>org.apache.hbase:hbase-protocol</exclude>
        <exclude>commons-io:commons-io</exclude>
        <exclude>com.google.protobuf:protobuf-java</exclude>
        <exclude>io.netty:netty-all</exclude>
        <exclude>org.apache.zookeeper:zookeeper</exclude>
        <exclude>org.apache.htrace:htrace-core</exclude>
        <exclude>org.jruby.jcodings:jcodings</exclude>
        <exclude>org.jruby.joni:joni</exclude>
        <exclude>com.yammer.metrics:metrics-core</exclude>
        <exclude>org.apache.hadoop:hadoop-auth</exclude>
        <exclude>org.apache.directory.server:apacheds-kerberos-codec</exclude>
        <exclude>org.apache.directory.server:apacheds-i18n</exclude>
        <exclude>org.apache.directory.api:api-asn1-api</exclude>
        <exclude>org.apache.directory.api:api-util</exclude>
        <exclude>org.apache.hive:hive-jdbc</exclude>
        <exclude>org.apache.hive:hive-common</exclude>
        <exclude>org.json:json</exclude>
        <exclude>org.apache.hive:hive-service</exclude>
        <exclude>net.sf.jpam:jpam</exclude>
        <exclude>org.apache.hive:hive-serde</exclude>
        <exclude>com.twitter:parquet-hadoop-bundle</exclude>
        <exclude>org.apache.hive:hive-metastore</exclude>
        <exclude>com.jolbox:bonecp</exclude>
        <exclude>org.apache.derby:derby</exclude>
        <exclude>org.datanucleus:datanucleus-api-jdo</exclude>
        <exclude>org.datanucleus:datanucleus-rdbms</exclude>
        <exclude>commons-pool:commons-pool</exclude>
        <exclude>commons-dbcp:commons-dbcp</exclude>
        <exclude>javax.jdo:jdo-api</exclude>
        <exclude>javax.transaction:jta</exclude>
        <exclude>org.apache.hive:hive-shims</exclude>
        <exclude>org.apache.hive.shims:hive-shims-common</exclude>
        <exclude>org.apache.hive.shims:hive-shims-0.20S</exclude>
        <exclude>org.apache.hive.shims:hive-shims-0.23</exclude>
        <exclude>org.apache.hadoop:hadoop-yarn-server-resourcemanager</exclude>
        <exclude>org.apache.hadoop:hadoop-yarn-server-applicationhistoryservice</exclude>
        <exclude>org.apache.hadoop:hadoop-yarn-server-web-proxy</exclude>
        <exclude>org.apache.hive.shims:hive-shims-scheduler</exclude>
        <exclude>org.apache.httpcomponents:httpclient</exclude>
        <exclude>org.apache.httpcomponents:httpcore</exclude>
        <exclude>org.apache.thrift:libthrift</exclude>
        <exclude>org.apache.curator:curator-framework</exclude>
        <exclude>org.slf4j:slf4j-log4j12</exclude>
        <exclude>org.apache.hive:hive-exec</exclude>
        <exclude>org.apache.hive:hive-ant</exclude>
        <exclude>org.apache.velocity:velocity</exclude>
        <exclude>log4j:apache-log4j-extras</exclude>
        <exclude>org.apache.ant:ant</exclude>
        <exclude>org.apache.ant:ant-launcher</exclude>
        <exclude>org.apache.commons:commons-compress</exclude>
        <exclude>org.tukaani:xz</exclude>
        <exclude>org.apache.thrift:libfb303</exclude>
        <exclude>org.apache.curator:apache-curator</exclude>
        <exclude>org.datanucleus:datanucleus-core</exclude>
        <exclude>org.apache.calcite:calcite-core</exclude>
        <exclude>org.apache.calcite:calcite-linq4j</exclude>
        <exclude>net.hydromatic:eigenbase-properties</exclude>
        <exclude>org.codehaus.janino:janino</exclude>
        <exclude>org.codehaus.janino:commons-compiler</exclude>
        <exclude>org.pentaho:pentaho-aggdesigner-algorithm</exclude>
        <exclude>org.apache.calcite:calcite-avatica</exclude>
        <exclude>stax:stax-api</exclude>
        <exclude>org.springframework.data:spring-data-hadoop</exclude>
        <exclude>org.springframework:spring-jdbc</exclude>
        <exclude>org.springframework:spring-tx</exclude>
        <exclude>org.springframework.data:spring-data-hadoop-batch:jar</exclude>
        <exclude>org.mongodb:mongodb-driver</exclude>
        <exclude>org.mongodb:bson</exclude>
        <exclude>org.mongodb:mongodb-driver-core</exclude>
        <exclude>org.eclipse.paho:org.eclipse.paho.client.mqttv3</exclude>
      </excludes>
    </dependencySet>
  </dependencySets>

</assembly>